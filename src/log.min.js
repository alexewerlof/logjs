var Log=function(){var domElement;var queue=[];function LogItem(log,type,message,code){this.date=new Date;this.log=log;this.type=type;this.message=message;this.code=code;if(domElement){domElement.appendChild(this.createElement())}else{queue.push(this)}}LogItem.prototype.createElement=function(){var ret=document.createElement("pre");ret.className=this.type+"-log-item log-item";ret.setAttribute("title",this.date);ret.appendChild(document.createTextNode(this.toString()));return ret};LogItem.prototype.toString=function(){var ret=this.type+"@"+this.log._moduleName;if(this.code){ret+="["+this.code+"]"}ret+=": "+this.message;return ret};function Log(moduleName){this._moduleName=moduleName;this.info("Created log object")}Log.prototype.setElement=function(id){domElement=document.getElementById(id);if(!domElement){alert("Cannot initialize the log system with a non-existing id: "+id)}for(var i=0;i<queue.length;i++){domElement.appendChild(queue[i].createElement())}queue.length=0};Log.prototype.info=function(message,code){return new LogItem(this,"info",message,code)};Log.prototype.warn=function(message,code){return new LogItem(this,"warn",message,code)};Log.prototype.error=function(message,code){return new LogItem(this,"error",message,code)};Log.prototype.i=Log.prototype.info;Log.prototype.w=Log.prototype.warn;Log.prototype.e=Log.prototype.error;return Log}();